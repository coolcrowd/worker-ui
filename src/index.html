<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8"/>
    <title>WorkerUI Example</title>
</head>

<body>
<div id="ractive-container"></div>

<script id="worker_ui" src="worker_ui.js"></script>

<script>
    // initialize settings
    WorkerUI.init(properties = {
        workerServiceURL: "http://localhost:8080",
        platform: "dummysandbox",
        experiment: 3,

        // optional
        preview: false,
        // this will force the answer view
        FORCE_VIEW: 3,
        // this will skip posts
        NO_POST: false,
        // these params will be passed to the crowdplatform implementaion in the object service (optional)
        osParams: {
            workerId: 121,
            assignmentId: 1234
        }
    });
    WorkerUI.onSubmitEmail(function (viewData, submittedData) {

    });
    WorkerUI.onSubmitCalibration(function (viewData, submittedData) {
        console.log("calibration submitted" + JSON.stringify(submittedData));
    });
    var answerArray = [];
    WorkerUI.onSubmitAnswer(function (viewData, submittedData) {
        answerArray.push(submittedData.answer);
        console.log("viewData: \n" + JSON.stringify(viewData, null, 4));
        console.log("submittedData: \n" + JSON.stringify(submittedData, null, 4));
    });
    WorkerUI.onSubmitRating(function (viewData, submittedData) {

    });
    WorkerUI.onSubmitAny(function (viewData, submittedData) {
        console.log("Something was submitted");
    });
    WorkerUI.onFinished(function () {

    });


    WorkerUI.load();
</script>
</body>

</html>
